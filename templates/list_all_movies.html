{% extends '_layout.html' %}

{% block title %}Movie Rating App | All Movies{% endblock %}

{% block body %}
<h1 class="mb-5">All Movies</h1>
<p class="mb-3">See our list of movie ratings below</p>
<!-- TODO: Feature 1 -->
<table class="table table-striped">
    <thead>
        <tr scope="row">
            <th>Movie Name</th>
            <th>Director</th>
            <th>Rating</th>
            <th>Delete</th>
            <th>Edit</th>
        </tr>
    </thead>
    <tbody>
    {% for movie in movies %}
    <tr>
        <td>{{ movie.name }}</td>
        <td>{{ movie.director }}</td>
        <td>{{ movie.rating }}</td>
        <td>
            <form method="POST" action="/movies/<int:movie_id>/delete">
                <button name="remove-btn" type="submit" class="btn btn-danger" value="{{ movie.id }}">Delete</button>
            </form>
        </td>
        <td>
            <form method="POST" action="/movies/<int:movie_id>">
                <button name="edit-btn" type="submit" class="btn btn-info" value="{{ movie.id }}">Edit</button>
            </form>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
