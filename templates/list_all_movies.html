{% extends '_layout.html' %}
{% block title %}Movie Rating App | All Movies{% endblock %}
{% block body %}
{% if list_movies_active %}
<h1 class="mb-5">All Movies</h1>
<p class="mb-3">See our list of movie ratings below</p>
<!-- TODO: Feature 1 -->
<script>console.log("{{ list_movies_active }}")</script>

<table class="table">
    <thead>
      <tr>
        <th>Movie ID</th>
        <th>Movie Title</th>
        <th>Director</th>
        <th>Rating</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for movie in list_movies_active %}
      <tr>
        <td>{{ movie.movie_id }}</td>
        <td>{{ movie.title }}</td>
        <td>{{ movie.director }}</td>
        <td>{{ movie.rating }}</td>
        <td>
          <a href="/movies/{{ movie.movie_id }}/edit" class="btn btn-secondary btn-sm">Edit</a>
          <form action="/movies/{{ movie.movie_id }}/delete" method="post" style="display: inline;">
            <button type="submit" class="btn btn-danger btn-sm">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
</table>
{% else %}
<h1>All Movies</h1>
<p>Unfortunately no movies have been added.</p>
{% endif %}
{% endblock %}
